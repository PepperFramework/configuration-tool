@using ConfigurationTool.Model
@inject IDialogService DialogService

<MudPaper Style="margin-top: 2em; padding: 5px">
    <MudText>Question: @Question.Text</MudText>
    @foreach (var answer in Question.Answers)
    {
        <MudText>Answer: @answer.Text</MudText>
    }
    <MudButton @onclick="OpenDialog" Variant="Variant.Filled" Color="Color.Primary">
        See Details
    </MudButton>
</MudPaper>


@code {
    [Parameter] public Question Question { get; set; } = new();
    
    private async Task OpenDialog()
    {
        var parameters = new DialogParameters { ["Question"] = Question };

        var dialog = DialogService.Show<QuestionDetailDialog>(Question.Text, parameters);
        var result = await dialog.Result;

        if (!result.Cancelled)
        {
            // TOOD: Add apply changes
        }
    }
}